/* ── ClawOS Components ─────────────────────────────────────────────────────── */

/* ── Cards ─── */
.card {
  background: var(--bg-1);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 20px;
  box-shadow: var(--shadow-sm);
  animation: rise var(--slow) var(--ease);
}
.card:hover { border-color: var(--border-2); }

.card-sm { padding: 14px 16px; }
.card-title {
  font-size: 13px; font-weight: 600;
  color: var(--text-strong); letter-spacing: -0.01em;
  margin-bottom: 12px;
}
.card-label {
  font-size: 11px; font-weight: 600;
  text-transform: uppercase; letter-spacing: 0.06em;
  color: var(--muted); margin-bottom: 4px;
}

/* ── Stat cards ─── */
.stat-card {
  background: var(--bg-1);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 16px 20px;
  animation: rise var(--slow) var(--ease);
}
.stat-label { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.07em; color: var(--muted); }
.stat-value { font-size: 28px; font-weight: 700; color: var(--text-strong); letter-spacing: -0.03em; margin-top: 4px; font-family: var(--mono); }
.stat-value.ok    { color: var(--ok); }
.stat-value.warn  { color: var(--warn); }
.stat-value.danger{ color: var(--danger); }
.stat-sub { font-size: 12px; color: var(--muted); margin-top: 4px; }

/* ── Buttons ─── */
.btn {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 8px 14px; border-radius: var(--r-md);
  font-family: var(--font-body); font-size: 13px; font-weight: 500;
  cursor: pointer; border: 1px solid var(--border);
  background: var(--bg-2); color: var(--text);
  transition: all var(--fast) var(--ease);
  white-space: nowrap; user-select: none;
}
.btn:hover { background: var(--bg-hover); border-color: var(--border-2); transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn:active { transform: translateY(0); box-shadow: none; }
.btn-primary { background: var(--accent); border-color: var(--accent); color: #fff; }
.btn-primary:hover { background: var(--accent-hover); border-color: var(--accent-hover); }
.btn-danger { background: var(--danger-subtle); border-color: rgba(239,68,68,.3); color: var(--danger); }
.btn-danger:hover { background: rgba(239,68,68,.2); }
.btn-sm { padding: 5px 10px; font-size: 12px; }
.btn:disabled { opacity: .45; cursor: not-allowed; transform: none; box-shadow: none; }

/* ── Badges / Pills ─── */
.badge {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 8px; border-radius: var(--r-full);
  font-size: 11px; font-weight: 600; font-family: var(--mono);
  white-space: nowrap;
}
.badge-ok      { background: var(--ok-subtle);     color: var(--ok);     border: 1px solid rgba(34,197,94,.2); }
.badge-warn    { background: var(--warn-subtle);   color: var(--warn);   border: 1px solid rgba(245,158,11,.2); }
.badge-danger  { background: var(--danger-subtle); color: var(--danger); border: 1px solid rgba(239,68,68,.2); }
.badge-info    { background: var(--info-subtle);   color: var(--info);   border: 1px solid rgba(59,130,246,.2); }
.badge-neutral { background: var(--bg-2); color: var(--muted); border: 1px solid var(--border); }
.badge-accent  { background: var(--accent-subtle); color: var(--accent); border: 1px solid rgba(92,123,224,.2); }

/* Task status → badge variant */
.status-queued    { background: var(--bg-2);          color: var(--muted); border: 1px solid var(--border); }
.status-running   { background: var(--info-subtle);   color: var(--info);  border: 1px solid rgba(59,130,246,.2); }
.status-succeeded { background: var(--ok-subtle);     color: var(--ok);    border: 1px solid rgba(34,197,94,.2); }
.status-failed    { background: var(--danger-subtle); color: var(--danger);border: 1px solid rgba(239,68,68,.2); }
.status-finished  { background: var(--ok-subtle);     color: var(--ok);    border: 1px solid rgba(34,197,94,.2); }

/* ── Tables ─── */
.table { width: 100%; border-collapse: collapse; }
.table th {
  text-align: left; padding: 10px 12px;
  font-size: 11px; font-weight: 600; letter-spacing: 0.06em;
  text-transform: uppercase; color: var(--muted);
  border-bottom: 1px solid var(--border);
}
.table td {
  padding: 11px 12px; border-bottom: 1px solid var(--border);
  font-size: 13px; color: var(--text); vertical-align: middle;
}
.table tr:last-child td { border-bottom: none; }
.table tr.clickable { cursor: pointer; }
.table tr.clickable:hover td { background: var(--bg-hover); }

/* ── Forms ─── */
.field { display: flex; flex-direction: column; gap: 6px; }
.label { font-size: 12px; font-weight: 600; color: var(--text); }
.input, .select, .textarea {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: 9px 12px;
  font-family: var(--font-body); font-size: 13px; color: var(--text);
  width: 100%;
  transition: border-color var(--fast) var(--ease);
  outline: none;
}
.input:focus, .select:focus, .textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px var(--accent-subtle);
}
.input::placeholder, .textarea::placeholder { color: var(--muted-2); }
.textarea { resize: vertical; min-height: 80px; font-family: var(--mono); font-size: 12px; }

/* ── Segment (auto/ask/block toggle) ─── */
.segment {
  display: inline-flex;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: 3px;
  gap: 2px;
}
.seg-btn {
  padding: 5px 12px; border-radius: 6px;
  font-size: 12px; font-weight: 500; cursor: pointer;
  border: none; background: transparent; color: var(--muted);
  transition: all var(--fast) var(--ease);
}
.seg-btn:hover { color: var(--text); }
.seg-btn.active-auto   { background: var(--ok-subtle);     color: var(--ok);     }
.seg-btn.active-ask    { background: var(--warn-subtle);   color: var(--warn);   }
.seg-btn.active-block  { background: var(--danger-subtle); color: var(--danger); }

/* ── Event timeline ─── */
.timeline { display: flex; flex-direction: column; gap: 0; }
.timeline-item {
  display: grid;
  grid-template-columns: 20px 1fr auto;
  gap: 10px;
  align-items: start;
  padding: 8px 0;
  position: relative;
}
.timeline-item + .timeline-item::before {
  content: '';
  position: absolute; top: -1px; left: 9px;
  width: 2px; height: 1px;
  background: var(--border);
}
.timeline-dot {
  width: 8px; height: 8px;
  border-radius: 50%; margin-top: 4px;
  flex-shrink: 0;
}
.timeline-dot.task    { background: var(--accent); }
.timeline-dot.worker  { background: var(--info); }
.timeline-dot.token   { background: var(--ok); }
.timeline-dot.verify  { background: var(--warn); }
.timeline-dot.agent   { background: var(--muted); }
.timeline-dot.system  { background: var(--muted-2); }
.timeline-type {
  font-size: 12px; font-weight: 600; color: var(--text); font-family: var(--mono);
}
.timeline-actor { font-size: 11px; color: var(--muted); font-family: var(--mono); }
.timeline-time  { font-size: 11px; color: var(--muted-2); font-family: var(--mono); white-space: nowrap; }

/* ── Callouts ─── */
.callout {
  padding: 12px 14px; border-radius: var(--r-md);
  font-size: 13px; display: flex; gap: 10px; align-items: flex-start;
}
.callout-warn   { background: var(--warn-subtle);   border: 1px solid rgba(245,158,11,.25); color: var(--warn);   }
.callout-danger { background: var(--danger-subtle); border: 1px solid rgba(239,68,68,.25);  color: var(--danger); }
.callout-info   { background: var(--info-subtle);   border: 1px solid rgba(59,130,246,.25); color: var(--info);   }
.callout-ok     { background: var(--ok-subtle);     border: 1px solid rgba(34,197,94,.25);  color: var(--ok);     }

/* ── Empty state ─── */
.empty-state {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  padding: 60px 20px; text-align: center; gap: 12px;
}
.empty-icon { font-size: 40px; opacity: .3; }
.empty-title { font-size: 15px; font-weight: 600; color: var(--text-strong); }
.empty-desc  { font-size: 13px; color: var(--muted); max-width: 320px; line-height: 1.5; }

/* ── Skeleton loader ─── */
.skeleton {
  background: linear-gradient(90deg, var(--bg-2) 25%, var(--bg-hover) 50%, var(--bg-2) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.4s infinite;
  border-radius: var(--r-md);
}

/* ── Command palette overlay ─── */
.cmd-overlay {
  position: fixed; inset: 0; z-index: 200;
  background: rgba(0,0,0,.6);
  display: flex; align-items: flex-start; justify-content: center;
  padding-top: 15vh;
  animation: fade-in var(--fast) var(--ease);
}
.cmd-box {
  width: 100%; max-width: 520px;
  background: var(--bg-1);
  border: 1px solid var(--border-2);
  border-radius: var(--r-xl);
  box-shadow: var(--shadow-lg);
  overflow: hidden;
}
.cmd-input {
  display: flex; align-items: center; gap: 10px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
}
.cmd-input input {
  flex: 1; background: none; border: none; outline: none;
  font-family: var(--font-body); font-size: 15px; color: var(--text-strong);
}
.cmd-input input::placeholder { color: var(--muted-2); }
.cmd-results { max-height: 320px; overflow-y: auto; }
.cmd-item {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 16px; cursor: pointer;
  transition: background var(--fast) var(--ease);
}
.cmd-item:hover, .cmd-item.focused { background: var(--bg-hover); }
.cmd-item-icon { font-size: 16px; width: 24px; text-align: center; }
.cmd-item-label { font-size: 13px; color: var(--text); font-weight: 500; }
.cmd-item-group { font-size: 11px; color: var(--muted); margin-left: auto; }
.cmd-hint { padding: 10px 16px; font-size: 11px; color: var(--muted-2); border-top: 1px solid var(--border); text-align: center; }

/* ── Notification drawer ─── */
.notif-drawer {
  position: fixed; top: var(--topbar-h); right: 0; z-index: 100;
  width: 320px; max-height: calc(100vh - var(--topbar-h));
  background: var(--bg-1);
  border-left: 1px solid var(--border);
  box-shadow: var(--shadow-lg);
  overflow-y: auto;
  animation: rise var(--normal) var(--ease);
}
.notif-header { padding: 14px 16px; font-weight: 600; font-size: 13px; border-bottom: 1px solid var(--border); }
.notif-item { padding: 12px 16px; border-bottom: 1px solid var(--border); font-size: 12px; }
.notif-item:last-child { border-bottom: none; }
.notif-title { font-weight: 600; color: var(--text-strong); margin-bottom: 2px; }
.notif-body  { color: var(--muted); line-height: 1.4; }

/* ── Provider connection card ─── */
.provider-card {
  background: var(--bg-1);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 20px;
  display: flex; flex-direction: column; gap: 14px;
  animation: rise var(--slow) var(--ease);
}
.provider-header { display: flex; align-items: center; gap: 12px; }
.provider-icon { font-size: 22px; }
.provider-name { font-size: 14px; font-weight: 600; color: var(--text-strong); }
.provider-desc { font-size: 12px; color: var(--muted); }

/* ── Placeholder "coming soon" ─── */
.coming-soon {
  display: flex; flex-direction: column; align-items: center;
  padding: 80px 20px; text-align: center; gap: 14px;
}
.coming-tag {
  font-size: 11px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase;
  padding: 4px 10px; background: var(--accent-subtle); color: var(--accent);
  border-radius: var(--r-full); border: 1px solid rgba(92,123,224,.2);
}
.coming-title { font-size: 22px; font-weight: 700; color: var(--text-strong); letter-spacing: -0.02em; }
.coming-desc { font-size: 14px; color: var(--muted); max-width: 360px; line-height: 1.6; }
.coming-features {
  display: flex; flex-wrap: wrap; justify-content: center; gap: 8px;
  margin-top: 8px;
}
.coming-feature {
  font-size: 12px; color: var(--muted);
  padding: 5px 12px; background: var(--bg-2);
  border: 1px solid var(--border); border-radius: var(--r-full);
}
